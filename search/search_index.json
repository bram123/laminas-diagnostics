{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"laminas-diagnostics üá∑üá∫ –†—É—Å—Å–∫–∏–º –≥—Ä–∞–∂–¥–∞–Ω–∞–º –ú—ã, —É—á–∞—Å—Ç–Ω–∏–∫–∏ Laminas, —Ä–æ–¥–∏–ª–∏—Å—å –∏ –∂–∏–≤–µ–º –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∞—Ö. –£ –º–Ω–æ–≥–∏—Ö –∏–∑ –Ω–∞—Å –µ—Å—Ç—å –¥—Ä—É–∑—å—è, —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏ –∏ –∫–æ–ª–ª–µ–≥–∏ –∫–∞–∫ –≤ –†–æ—Å—Å–∏–∏, —Ç–∞–∫ –∏ –≤ –£–∫—Ä–∞–∏–Ω–µ. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∞—Å —Ä–æ–¥–∏–ª–∏—Å—å –≤ –†–æ—Å—Å–∏–∏. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∞—Å –∂–∏–≤—É—Ç –≤ –†–æ—Å—Å–∏–∏. –£ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±–∞–±—É—à–∫–∏ –∏ –¥–µ–¥—É—à–∫–∏ —Å—Ä–∞–∂–∞–ª–∏—Å—å —Å —Ñ–∞—à–∏—Å—Ç–∞–º–∏ –≤–æ –í—Ç–æ—Ä–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω–µ. –ó–¥–µ—Å—å –Ω–∏–∫—Ç–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∞—à–∏–∑–º. –£ –æ–¥–Ω–æ–≥–æ –∏–∑ –Ω–∞—Å –µ—Å—Ç—å —É–∫—Ä–∞–∏–Ω—Å–∫–∞—è —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏—Ü–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–ø–∞—Å–ª–∞—Å—å –∏–∑ –¥–æ–º–∞ –≤–º–µ—Å—Ç–µ —Å —Å—ã–Ω–æ–º. –ü–æ–µ–∑–¥ –∑–∞–¥–µ—Ä–∂–∞–ª—Å—è –∏–∑-–∑–∞ –±–æ–º–±–µ–∂–∫–∏ –Ω–∞ –¥–æ—Ä–æ–≥–µ –≤–ø–µ—Ä–µ–¥–∏. –£ –Ω–∞—Å –µ—Å—Ç—å –¥—Ä—É–∑—å—è, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä—è—á—É—Ç—Å—è –≤ –±–æ–º–±–æ—É–±–µ–∂–∏—â–∞—Ö. –ú—ã —Å —Ç—Ä–µ–≤–æ–≥–æ–π –∂–¥–µ–º –≤–µ—Å—Ç–æ—á–∫–∏ –æ—Ç –Ω–∏—Ö –ø–æ—Å–ª–µ –≤–æ–∑–¥—É—à–Ω—ã—Ö –Ω–∞–ª–µ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±–µ—Å–ø–æ—Ä—è–¥–æ—á–Ω–æ –Ω–∞–Ω–æ—Å—è—Ç —É–¥–∞—Ä—ã –∏ –ø–æ–ø–∞–¥–∞—é—Ç –ø–æ –±–æ–ª—å–Ω–∏—Ü–∞–º, —à–∫–æ–ª–∞–º, –¥–µ—Ç—Å–∫–∏–º —Å–∞–¥–∞–º –∏ –¥–æ–º–∞–º. –ú—ã –Ω–µ –±–µ—Ä–µ–º —ç—Ç–æ –∏–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –°–ú–ò. –ú—ã –Ω–∞–±–ª—é–¥–∞–µ–º —ç—Ç–æ –Ω–∞–ø—Ä—è–º—É—é. –í—ã –¥–æ–≤–µ—Ä—è–µ—Ç–µ –Ω–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—à–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∏ –º—ã –ø—Ä–æ—Å–∏–º –≤–∞—Å –¥–æ–≤–µ—Ä–∏—Ç—å—Å—è –Ω–∞–º –≤–Ω–æ–≤—å. –ú—ã –Ω—É–∂–¥–∞–µ–º—Å—è –≤ –ø–æ–º–æ—â–∏. –í—ã—Ö–æ–¥–∏—Ç–µ –∏ –ø—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ –ø—Ä–æ—Ç–∏–≤ —ç—Ç–æ–π –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ–π –≤–æ–π–Ω—ã. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫—Ä–æ–≤–æ–ø—Ä–æ–ª–∏—Ç–∏–µ. –°–∫–∞–∂–∏—Ç–µ \"–ù–µ—Ç –≤–æ–π–Ω–µ!\" üá∫üá∏ To Citizens of Russia We at Laminas come from all over the world. Many of us have friends, family and colleagues in both Russia and Ukraine. Some of us were born in Russia. Some of us currently live in Russia. Some have grandparents who fought Nazis in World War II. Nobody here supports fascism. One team member has a Ukrainian relative who fled her home with her son. The train was delayed due to bombing on the road ahead. We have friends who are hiding in bomb shelters. We anxiously follow up on them after the air raids, which indiscriminately fire at hospitals, schools, kindergartens and houses. We're not taking this from any media. These are our actual experiences. You trust us enough to use our software. We ask that you trust us to say the truth on this. We need your help. Go out and protest this unnecessary war. Stop the bloodshed. Say \"stop the war!\" Perform diagnostic tests within real-world PHP applications. File issues at https://github.com/laminas/laminas-diagnostics/issues Documentation is at https://docs.laminas.dev/laminas-diagnostics/","title":"Home"},{"location":"#laminas-diagnostics","text":"","title":"laminas-diagnostics"},{"location":"#_1","text":"–ú—ã, —É—á–∞—Å—Ç–Ω–∏–∫–∏ Laminas, —Ä–æ–¥–∏–ª–∏—Å—å –∏ –∂–∏–≤–µ–º –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∞—Ö. –£ –º–Ω–æ–≥–∏—Ö –∏–∑ –Ω–∞—Å –µ—Å—Ç—å –¥—Ä—É–∑—å—è, —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏ –∏ –∫–æ–ª–ª–µ–≥–∏ –∫–∞–∫ –≤ –†–æ—Å—Å–∏–∏, —Ç–∞–∫ –∏ –≤ –£–∫—Ä–∞–∏–Ω–µ. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∞—Å —Ä–æ–¥–∏–ª–∏—Å—å –≤ –†–æ—Å—Å–∏–∏. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∞—Å –∂–∏–≤—É—Ç –≤ –†–æ—Å—Å–∏–∏. –£ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±–∞–±—É—à–∫–∏ –∏ –¥–µ–¥—É—à–∫–∏ —Å—Ä–∞–∂–∞–ª–∏—Å—å —Å —Ñ–∞—à–∏—Å—Ç–∞–º–∏ –≤–æ –í—Ç–æ—Ä–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω–µ. –ó–¥–µ—Å—å –Ω–∏–∫—Ç–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∞—à–∏–∑–º. –£ –æ–¥–Ω–æ–≥–æ –∏–∑ –Ω–∞—Å –µ—Å—Ç—å —É–∫—Ä–∞–∏–Ω—Å–∫–∞—è —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏—Ü–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–ø–∞—Å–ª–∞—Å—å –∏–∑ –¥–æ–º–∞ –≤–º–µ—Å—Ç–µ —Å —Å—ã–Ω–æ–º. –ü–æ–µ–∑–¥ –∑–∞–¥–µ—Ä–∂–∞–ª—Å—è –∏–∑-–∑–∞ –±–æ–º–±–µ–∂–∫–∏ –Ω–∞ –¥–æ—Ä–æ–≥–µ –≤–ø–µ—Ä–µ–¥–∏. –£ –Ω–∞—Å –µ—Å—Ç—å –¥—Ä—É–∑—å—è, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä—è—á—É—Ç—Å—è –≤ –±–æ–º–±–æ—É–±–µ–∂–∏—â–∞—Ö. –ú—ã —Å —Ç—Ä–µ–≤–æ–≥–æ–π –∂–¥–µ–º –≤–µ—Å—Ç–æ—á–∫–∏ –æ—Ç –Ω–∏—Ö –ø–æ—Å–ª–µ –≤–æ–∑–¥—É—à–Ω—ã—Ö –Ω–∞–ª–µ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±–µ—Å–ø–æ—Ä—è–¥–æ—á–Ω–æ –Ω–∞–Ω–æ—Å—è—Ç —É–¥–∞—Ä—ã –∏ –ø–æ–ø–∞–¥–∞—é—Ç –ø–æ –±–æ–ª—å–Ω–∏—Ü–∞–º, —à–∫–æ–ª–∞–º, –¥–µ—Ç—Å–∫–∏–º —Å–∞–¥–∞–º –∏ –¥–æ–º–∞–º. –ú—ã –Ω–µ –±–µ—Ä–µ–º —ç—Ç–æ –∏–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –°–ú–ò. –ú—ã –Ω–∞–±–ª—é–¥–∞–µ–º —ç—Ç–æ –Ω–∞–ø—Ä—è–º—É—é. –í—ã –¥–æ–≤–µ—Ä—è–µ—Ç–µ –Ω–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—à–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∏ –º—ã –ø—Ä–æ—Å–∏–º –≤–∞—Å –¥–æ–≤–µ—Ä–∏—Ç—å—Å—è –Ω–∞–º –≤–Ω–æ–≤—å. –ú—ã –Ω—É–∂–¥–∞–µ–º—Å—è –≤ –ø–æ–º–æ—â–∏. –í—ã—Ö–æ–¥–∏—Ç–µ –∏ –ø—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ –ø—Ä–æ—Ç–∏–≤ —ç—Ç–æ–π –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ–π –≤–æ–π–Ω—ã. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫—Ä–æ–≤–æ–ø—Ä–æ–ª–∏—Ç–∏–µ. –°–∫–∞–∂–∏—Ç–µ \"–ù–µ—Ç –≤–æ–π–Ω–µ!\"","title":"üá∑üá∫ –†—É—Å—Å–∫–∏–º –≥—Ä–∞–∂–¥–∞–Ω–∞–º"},{"location":"#to-citizens-of-russia","text":"We at Laminas come from all over the world. Many of us have friends, family and colleagues in both Russia and Ukraine. Some of us were born in Russia. Some of us currently live in Russia. Some have grandparents who fought Nazis in World War II. Nobody here supports fascism. One team member has a Ukrainian relative who fled her home with her son. The train was delayed due to bombing on the road ahead. We have friends who are hiding in bomb shelters. We anxiously follow up on them after the air raids, which indiscriminately fire at hospitals, schools, kindergartens and houses. We're not taking this from any media. These are our actual experiences. You trust us enough to use our software. We ask that you trust us to say the truth on this. We need your help. Go out and protest this unnecessary war. Stop the bloodshed. Say \"stop the war!\" Perform diagnostic tests within real-world PHP applications. File issues at https://github.com/laminas/laminas-diagnostics/issues Documentation is at https://docs.laminas.dev/laminas-diagnostics/","title":"üá∫üá∏ To Citizens of Russia"},{"location":"architecture/","text":"Architecture A single diagnostic Check performs one particular test on the application or environment. It MUST return a Result which implements one of the following result interfaces: Success - in case the check ran through without any issue. Warning - in case there might be something wrong. Failure - when the test failed and an intervention is required. Each test Result can additionally return: result message via getMessage() . It can be used to describe the context of the result. result data via getData() . This can be used for providing detailed information on the cause of particular result, which might be useful for debugging problems. One can define additional result interfaces , to denote additional severity levels (e.g. critical, alert, notice) or appropriate actions (i.e. missing, incomplete). However, it is recommended to extend the primary set of success, warning, and failure interfaces for compatibility with other applications and libraries.","title":"Architecture"},{"location":"architecture/#architecture","text":"A single diagnostic Check performs one particular test on the application or environment. It MUST return a Result which implements one of the following result interfaces: Success - in case the check ran through without any issue. Warning - in case there might be something wrong. Failure - when the test failed and an intervention is required. Each test Result can additionally return: result message via getMessage() . It can be used to describe the context of the result. result data via getData() . This can be used for providing detailed information on the cause of particular result, which might be useful for debugging problems. One can define additional result interfaces , to denote additional severity levels (e.g. critical, alert, notice) or appropriate actions (i.e. missing, incomplete). However, it is recommended to extend the primary set of success, warning, and failure interfaces for compatibility with other applications and libraries.","title":"Architecture"},{"location":"custom-checks/","text":"Writing Custom Checks A Check class MUST implement CheckInterface and provide the following methods: &lt;?php namespace Laminas\\Diagnostics\\Check; use Laminas\\Diagnostics\\Result\\ResultInterface; interface CheckInterface { /** * @return ResultInterface */ public function check(); /** * Return a label describing this test instance. * * @return string */ public function getLabel(); } The main check() method is responsible for performing the actual check, and is expected to return a ResultInterface instance. It is recommended to use the built-in result classes for compatibility with the diagnostics Runner and other checks. Below is an example class that checks if the PHP default timezone is set to UTC. &lt;?php namespace MyApp\\Diagnostics\\Check; use Laminas\\Diagnostics\\Check\\CheckInterface; use Laminas\\Diagnostics\\Result\\Success; use Laminas\\Diagnostics\\Result\\Failure; class TimezoneSetToUTC implements CheckInterface { public function check() { $tz = date_default_timezone_get(); if ($tz === 'UTC') { return new Success('Default timezone is UTC'); } return new Failure('Default timezone is not UTC! It is actually ' . $tz); } public function getLabel() { return 'Check if PHP default timezone is set to UTC'; } }","title":"Writing Custom Checks"},{"location":"custom-checks/#writing-custom-checks","text":"A Check class MUST implement CheckInterface and provide the following methods: &lt;?php namespace Laminas\\Diagnostics\\Check; use Laminas\\Diagnostics\\Result\\ResultInterface; interface CheckInterface { /** * @return ResultInterface */ public function check(); /** * Return a label describing this test instance. * * @return string */ public function getLabel(); } The main check() method is responsible for performing the actual check, and is expected to return a ResultInterface instance. It is recommended to use the built-in result classes for compatibility with the diagnostics Runner and other checks. Below is an example class that checks if the PHP default timezone is set to UTC. &lt;?php namespace MyApp\\Diagnostics\\Check; use Laminas\\Diagnostics\\Check\\CheckInterface; use Laminas\\Diagnostics\\Result\\Success; use Laminas\\Diagnostics\\Result\\Failure; class TimezoneSetToUTC implements CheckInterface { public function check() { $tz = date_default_timezone_get(); if ($tz === 'UTC') { return new Success('Default timezone is UTC'); } return new Failure('Default timezone is not UTC! It is actually ' . $tz); } public function getLabel() { return 'Check if PHP default timezone is set to UTC'; } }","title":"Writing Custom Checks"},{"location":"custom-reporters/","text":"Writing Custom Reporters A reporter is a class implementing ReporterInterface . &lt;?php namespace Laminas\\Diagnostics\\Runner\\Reporter; use ArrayObject; use Laminas\\Diagnostics\\Check\\CheckInterface as Check; use Laminas\\Diagnostics\\Result\\Collection as ResultCollection; use Laminas\\Diagnostics\\Result\\ResultInterface as Result; interface ReporterInterface { public function onStart(ArrayObject $checks, $runnerConfig); public function onBeforeRun(Check $check); public function onAfterRun(Check $check, Result $result); public function onStop(ResultCollection $results); public function onFinish(ResultCollection $results); } A Runner invokes the above methods while running diagnostics in the following order: onStart - right after calling Runner::run() onBeforeRun - before each individual Check. onAfterRun - after each individual check has finished running. onFinish - after Runner has finished its job. onStop - in case Runner has been interrupted: when the reporter has returned false from the onAfterRun method or when the runner is configured with setBreakOnFailure(true) and one of the checks fails. Some reporter methods can be used to interrupt the operation of a diagnostics runner: onBeforeRun(Check $check) - in case this method returns false , that particular check will be omitted. onAfterRun(Check $check, Result($result)) - in case this method returns false , the runner will abort checking. All other return values are ignored. laminas/laminas-diagnostics ships with a simple Console reporter that can serve as an example of how to write your own reporters.","title":"Writing Custom Reporters"},{"location":"custom-reporters/#writing-custom-reporters","text":"A reporter is a class implementing ReporterInterface . &lt;?php namespace Laminas\\Diagnostics\\Runner\\Reporter; use ArrayObject; use Laminas\\Diagnostics\\Check\\CheckInterface as Check; use Laminas\\Diagnostics\\Result\\Collection as ResultCollection; use Laminas\\Diagnostics\\Result\\ResultInterface as Result; interface ReporterInterface { public function onStart(ArrayObject $checks, $runnerConfig); public function onBeforeRun(Check $check); public function onAfterRun(Check $check, Result $result); public function onStop(ResultCollection $results); public function onFinish(ResultCollection $results); } A Runner invokes the above methods while running diagnostics in the following order: onStart - right after calling Runner::run() onBeforeRun - before each individual Check. onAfterRun - after each individual check has finished running. onFinish - after Runner has finished its job. onStop - in case Runner has been interrupted: when the reporter has returned false from the onAfterRun method or when the runner is configured with setBreakOnFailure(true) and one of the checks fails. Some reporter methods can be used to interrupt the operation of a diagnostics runner: onBeforeRun(Check $check) - in case this method returns false , that particular check will be omitted. onAfterRun(Check $check, Result($result)) - in case this method returns false , the runner will abort checking. All other return values are ignored. laminas/laminas-diagnostics ships with a simple Console reporter that can serve as an example of how to write your own reporters.","title":"Writing Custom Reporters"},{"location":"diagnostics/","text":"Diagnostic Checks laminas/laminas-diagnostics provides several \"just add water\" checks you can use straight away. The following built-in tests are currently available: ApcFragmentation Make sure that APC memory fragmentation level is below a given threshold: &lt;?php use Laminas\\Diagnostics\\Check\\ApcFragmentation; // Display a warning with fragmentation &gt; 50% and failure when above 90% $fragmentation = new ApcFragmentation(50, 90); ApcMemory Check APC memory usage percent and make sure it's below a given threshold. &lt;?php use Laminas\\Diagnostics\\Check\\ApcMemory; // Display a warning with memory usage is above 70% and a failure above 90% $checkFreeMemory = new ApcMemory(70, 90); Callback Run a function (callback) and use its return value as the result: &lt;?php use Laminas\\Diagnostics\\Check\\Callback; use Laminas\\Diagnostics\\Result\\Success; use Laminas\\Diagnostics\\Result\\Failure; $checkDbFile = new Callback(function() { $path = __DIR__ . '/data/db.sqlite'; if (is_file($path) &amp;&amp; is_readable($path) &amp;&amp; filesize($path)) { return new Success('Db file is ok'); } return new Failure('There is something wrong with the db file'); }); Callback signature The callback must return either a boolean (true for success, false for failure), or a valid instance of ResultInterface . All other objects will result in an exception, and scalars (i.e. a string) will be interpreted as warnings. ClassExists Check if a class (or an array of classes) exists. For example: &lt;?php use Laminas\\Diagnostics\\Check\\ClassExists; $checkLuaClass = new ClassExists('Lua'); $checkRbacClasses = new ClassExists([ 'ZfcRbac\\Module', 'ZfcRbac\\Controller\\Plugin\\IsGranted' ]); CouchDBCheck Check if a connection to a given CouchDB server is possible. &lt;?php use Laminas\\Diagnostics\\Check\\CouchDBCheck; // Simple check without credentials $couchDbNoCredentials = new CouchDBCheck(['url' =&gt; 'http://127.0.0.1:5984']); // Check with user and password $couchDbSettings = [ 'protocol' =&gt; 'http', 'host' =&gt; '127.0.0.1', 'port' =&gt; '5984', 'username' =&gt; 'my_username', 'password' =&gt; 'I0z&amp;+oFP^FHdd9%i', 'dbname' =&gt; 'my_database', ]; $couchDbWithCredentials = new CouchDBCheck($couchDbSettings); CpuPerformance Benchmark CPU performance and return failure if it is below the given ratio. The baseline for performance calculation is the speed of an Amazon EC2 Micro Instance (Q1 2013). You can specify the expected performance for the test, where a ratio of 1.0 (one) means at least the speed of EC2 Micro Instance. A ratio of 2 would mean \"at least double the performance of EC2 Micro Instance\" and a fraction of 0.5 means \"at least half the performance of Micro Instance\". The following check will test if current server has at least half the CPU power of EC2 Micro Instance: &lt;?php use Laminas\\Diagnostics\\Check\\CpuPerformance; $checkMinCPUSpeed = new CpuPerformance(0.5); // at least 50% of EC2 micro instance DirReadable Check if a given path (or array of paths) points to a directory and it is readable. &lt;?php use Laminas\\Diagnostics\\Check\\DirReadable; $checkPublic = new DirReadable('public/'); $checkAssets = new DirReadable([ __DIR__ . '/assets/img', __DIR__ . '/assets/js', ]); DirWritable Check if a given path (or array of paths) points to a directory and if it can be written to. &lt;?php use Laminas\\Diagnostics\\Check\\DirWritable; $checkTemporary = new DirWritable('/tmp'); $checkAssets = new DirWritable([ __DIR__ . '/assets/customImages', __DIR__ . '/assets/customJs', __DIR__ . '/assets/uploads', ]); DiskFree Check if there is enough remaining free disk space. The first parameter is the minimum disk space, which can be supplied as an integer (in bytes, e.g. 1024 ) or as a string with a multiplier (IEC, SI or Jedec; e.g. \"150MB\" ). The second parameter is the path to check; on *NIX systems it is an ordinary path (e.g. /home ), while on Windows systems it is a drive letter (e.g. \"C:\" ). &lt;?php use Laminas\\Diagnostics\\Check\\DiskFree; $tempHasAtLeast100Megs = new DiskFree('100MB', '/tmp'); $homeHasAtLeast1TB = new DiskFree('1TiB', '/home'); $dataHasAtLeast900Bytes = new DiskFree(900, __DIR__ . '/data/'); DiskUsage Check if the disk usage is below warning/critical percent thresholds. The first parameter is the warning threshold, which can be supplied as an integer (in percent, e.g. 80 ). The second parameter is the critical threshold, which is also supplied as an integer (in percent, e.g. 90 ). The third parameter is the disk path to check; on *NIX systems it is an ordinary path (e.g. /tmp ), while on Windows systems it is a drive letter (e.g. C: ). &lt;?php use Laminas\\Diagnostics\\Check\\DiskUsage; $diskUsageNix = new DiskUsage(80, 90, '/tmp'); $diskUsageWin = new DiskUsage(80, 90, 'C:'); ExtensionLoaded Check if a PHP extension (or an array of extensions) is currently loaded. &lt;?php use Laminas\\Diagnostics\\Check\\ExtensionLoaded; $checkMbstring = new ExtensionLoaded('mbstring'); $checkCompression = new ExtensionLoaded([ 'rar', 'bzip2', 'zip', ]); HttpService Attempt connection to a given HTTP host or IP address and try to load a web page. The check also supports checking response codes and page contents. &lt;?php use Laminas\\Diagnostics\\Check\\HttpService; // Try to connect to google.com $checkGoogle = new HttpService('www.google.com'); // Check port 8080 on localhost $checkLocal = new HttpService('127.0.0.1', 8080); // Check that the page exists (response code must equal 200) $checkPage = new HttpService('www.example.com', 80, '/some/page.html', 200); // Check page content $checkPageContent = new HttpService( 'www.example.com', 80, '/some/page.html', 200, '&lt;title&gt;Hello World&lt;/title&gt;' ); GuzzleHttpService Attempt connection to a given HTTP host or IP address and try to load a web page using Guzzle . The check also supports checking response codes and page contents. The constructor signature of the GuzzleHttpService is as follows: /** * @param string|Psr\\Http\\Message\\RequestInterface|GuzzleHttp\\Message\\RequestInterface $requestOrUrl * The absolute url to check, or a fully-formed request instance. * @param array $headers An array of headers used to create the request * @param array $options An array of guzzle options to use when sending the request * @param int $statusCode The response status code to check * @param null $content The response content to check * @param null|GuzzleHttp\\ClientInterface $guzzle Instance of guzzle to use * @param string $method The method of the request * @param mixed $body The body of the request (used for POST, PUT and DELETE requests) * @throws InvalidArgumentException */ public function __construct( $requestOrUrl, array $headers = [], array $options = [], $statusCode = 200, $content = null, $guzzle = null, $method = 'GET', $body = null ) Examples: &lt;?php use Laminas\\Diagnostics\\Check\\GuzzleHttpService; // Try to connect to google.com $checkGoogle = new GuzzleHttpService('www.google.com'); // Check port 8080 on localhost $checkLocal = new GuzzleHttpService('127.0.0.1:8080'); // Check that the page exists (response code must equal 200) $checkPage = new GuzzleHttpService('www.example.com/some/page.html'); // Check page content $checkPageContent = new GuzzleHttpService( 'www.example.com/some/page.html', [], [], 200, '&lt;title&gt;Hello World&lt;/title&gt;' ); // Check that the post request returns the content $checkPageContent = new GuzzleHttpService( 'www.example.com/user/update', [], [], 200, '{\"status\":\"success\"}', 'POST', ['post_field' =&gt; 'post_value'] ); You can send JSON data by either providing a Content-Type header that includes a JSON content type, or creating a request instance with JSON content: // Send page content $checkPageContent = new GuzzleHttpService( 'api.example.com/ping', ['Content-Type' =&gt; 'application/json'], [], 200, null, null, 'POST', ['ping' =&gt; microtime()] ); // Assuming Guzzle 6: use GuzzleHttp\\Psr7\\Request; $request = new Request( 'POST', 'http://api.example.com/ping', ['Content-Type' =&gt; 'application/json'], json_encode(['ping' =&gt; microtime()]) ); $checkPageContent = new GuzzleHttpService($request); Memcache Attempt to connect to given Memcache server. &lt;?php use Laminas\\Diagnostics\\Check\\Memcache; $checkLocal = new Memcache('127.0.0.1'); // default port $checkBackup = new Memcache('10.0.30.40', 11212); $checkSocket = new Memcache('unix:///run/memcached/memcached.sock', 0); Memcached Attempt to connect to the given Memcached server. &lt;?php use Laminas\\Diagnostics\\Check\\Memcached; $checkLocal = new Memcached('127.0.0.1'); // default port $checkBackup = new Memcached('10.0.30.40', 11212); $checkSocket = new Memcached('/run/memcached/memcached.sock', 0); MongoDb Check if a connection to a given MongoDb server is possible. &lt;?php use Laminas\\Diagnostics\\Check\\Mongo; $mongoCheck = new Mongo('mongodb://127.0.0.1:27017'); // and with user/password $mongoCheck = new Mongo('mongodb://user:password@127.0.0.1:27017'); OpCacheMemory Check OPcache memory usage percent and make sure it's below a given threshold. &lt;?php use Laminas\\Diagnostics\\Check\\OpCacheMemory; // Display a warning with memory usage is above 70% and a failure above 90% $opCacheMemory = new OpCacheMemory(70, 90); PDOCheck Check if a connection to a given database server is possible. &lt;?php use Laminas\\Diagnostics\\Check\\PDOCheck; $pdoMySql = new PDOCheck('mysql://localhost/my_database', 'my_username', 'oFPZc!W&amp;zV&gt;,YCrz'); $pdoSqlite = new PDOCheck('sqlite:example.db', '', ''); PhpVersion Check if the current PHP version matches the given requirement. The test accepts 2 parameters: baseline version and optional comparison operator . &lt;?php use Laminas\\Diagnostics\\Check\\PhpVersion; $require545orNewer = new PhpVersion('5.4.5'); $rejectBetaVersions = new PhpVersion('5.5.0', '&lt;'); PhpFlag Make sure that the provided PHP flag(s) is enabled or disabled (as defined in php.ini ). You can use this test to alert the user about unsafe or behavior-changing PHP settings. &lt;?php use Laminas\\Diagnostics\\Check\\PhpFlag; // This check will fail if use_only_cookies is not enabled $sessionOnlyUsesCookies = new PhpFlag('session.use_only_cookies', true); // This check will fail if safe_mode has been enabled $noSafeMode = new PhpFlag('safe_mode', false); // The following will fail if any of the flags is enabled $check = new PhpFlag([ 'expose_php', 'ignore_user_abort', 'html_errors', ], false); ProcessRunning Check if a given unix process is running. This check supports PIDs and process names. &lt;?php use Laminas\\Diagnostics\\Check\\ProcessRunning; $checkApache = new ProcessRunning('httpd'); $checkProcess1000 = new ProcessRunning(1000); RabbitMQ Validate that a RabbitMQ service is running. &lt;?php use Laminas\\Diagnostics\\Check\\RabbitMQ; $rabbitMQCheck = new RabbitMQ('localhost', 5672, 'guest', 'guest', '/'); Redis Validate that a Redis service is running. &lt;?php use Laminas\\Diagnostics\\Check\\Redis; $redisCheck = new Redis('localhost', 6379, 'secret'); SecurityAdvisory Run a security check of libraries locally installed by Composer against SensioLabs Security Advisory database , and warn about potential security vulnerabilities. &lt;?php use Laminas\\Diagnostics\\Check\\SecurityAdvisory; // Warn about any packages that might have security vulnerabilities // and require updating $security = new SecurityAdvisory(); // Check another composer.lock $security = new SecurityAdvisory('/var/www/project/composer.lock'); StreamWrapperExists Check if a given stream wrapper (or an array of wrappers) is available. For example: &lt;?php use Laminas\\Diagnostics\\Check\\StreamWrapperExists; $checkOGGStream = new StreamWrapperExists('ogg'); $checkCompression = new StreamWrapperExists([ 'zlib', 'bzip2', 'zip', ]); DoctrineMigration Make sure all migrations are applied: &lt;?php use Doctrine\\Migrations\\Configuration\\Configuration; use Doctrine\\ORM\\EntityManager; use Laminas\\Diagnostics\\Check\\DoctrineMigration; $em = EntityManager::create(/* config */); $migrationConfig = new Configuration($em); $check = new DoctrineMigration($migrationConfig);","title":"Diagnostic Checks"},{"location":"diagnostics/#diagnostic-checks","text":"laminas/laminas-diagnostics provides several \"just add water\" checks you can use straight away. The following built-in tests are currently available:","title":"Diagnostic Checks"},{"location":"diagnostics/#apcfragmentation","text":"Make sure that APC memory fragmentation level is below a given threshold: &lt;?php use Laminas\\Diagnostics\\Check\\ApcFragmentation; // Display a warning with fragmentation &gt; 50% and failure when above 90% $fragmentation = new ApcFragmentation(50, 90);","title":"ApcFragmentation"},{"location":"diagnostics/#apcmemory","text":"Check APC memory usage percent and make sure it's below a given threshold. &lt;?php use Laminas\\Diagnostics\\Check\\ApcMemory; // Display a warning with memory usage is above 70% and a failure above 90% $checkFreeMemory = new ApcMemory(70, 90);","title":"ApcMemory"},{"location":"diagnostics/#callback","text":"Run a function (callback) and use its return value as the result: &lt;?php use Laminas\\Diagnostics\\Check\\Callback; use Laminas\\Diagnostics\\Result\\Success; use Laminas\\Diagnostics\\Result\\Failure; $checkDbFile = new Callback(function() { $path = __DIR__ . '/data/db.sqlite'; if (is_file($path) &amp;&amp; is_readable($path) &amp;&amp; filesize($path)) { return new Success('Db file is ok'); } return new Failure('There is something wrong with the db file'); });","title":"Callback"},{"location":"diagnostics/#classexists","text":"Check if a class (or an array of classes) exists. For example: &lt;?php use Laminas\\Diagnostics\\Check\\ClassExists; $checkLuaClass = new ClassExists('Lua'); $checkRbacClasses = new ClassExists([ 'ZfcRbac\\Module', 'ZfcRbac\\Controller\\Plugin\\IsGranted' ]);","title":"ClassExists"},{"location":"diagnostics/#couchdbcheck","text":"Check if a connection to a given CouchDB server is possible. &lt;?php use Laminas\\Diagnostics\\Check\\CouchDBCheck; // Simple check without credentials $couchDbNoCredentials = new CouchDBCheck(['url' =&gt; 'http://127.0.0.1:5984']); // Check with user and password $couchDbSettings = [ 'protocol' =&gt; 'http', 'host' =&gt; '127.0.0.1', 'port' =&gt; '5984', 'username' =&gt; 'my_username', 'password' =&gt; 'I0z&amp;+oFP^FHdd9%i', 'dbname' =&gt; 'my_database', ]; $couchDbWithCredentials = new CouchDBCheck($couchDbSettings);","title":"CouchDBCheck"},{"location":"diagnostics/#cpuperformance","text":"Benchmark CPU performance and return failure if it is below the given ratio. The baseline for performance calculation is the speed of an Amazon EC2 Micro Instance (Q1 2013). You can specify the expected performance for the test, where a ratio of 1.0 (one) means at least the speed of EC2 Micro Instance. A ratio of 2 would mean \"at least double the performance of EC2 Micro Instance\" and a fraction of 0.5 means \"at least half the performance of Micro Instance\". The following check will test if current server has at least half the CPU power of EC2 Micro Instance: &lt;?php use Laminas\\Diagnostics\\Check\\CpuPerformance; $checkMinCPUSpeed = new CpuPerformance(0.5); // at least 50% of EC2 micro instance","title":"CpuPerformance"},{"location":"diagnostics/#dirreadable","text":"Check if a given path (or array of paths) points to a directory and it is readable. &lt;?php use Laminas\\Diagnostics\\Check\\DirReadable; $checkPublic = new DirReadable('public/'); $checkAssets = new DirReadable([ __DIR__ . '/assets/img', __DIR__ . '/assets/js', ]);","title":"DirReadable"},{"location":"diagnostics/#dirwritable","text":"Check if a given path (or array of paths) points to a directory and if it can be written to. &lt;?php use Laminas\\Diagnostics\\Check\\DirWritable; $checkTemporary = new DirWritable('/tmp'); $checkAssets = new DirWritable([ __DIR__ . '/assets/customImages', __DIR__ . '/assets/customJs', __DIR__ . '/assets/uploads', ]);","title":"DirWritable"},{"location":"diagnostics/#diskfree","text":"Check if there is enough remaining free disk space. The first parameter is the minimum disk space, which can be supplied as an integer (in bytes, e.g. 1024 ) or as a string with a multiplier (IEC, SI or Jedec; e.g. \"150MB\" ). The second parameter is the path to check; on *NIX systems it is an ordinary path (e.g. /home ), while on Windows systems it is a drive letter (e.g. \"C:\" ). &lt;?php use Laminas\\Diagnostics\\Check\\DiskFree; $tempHasAtLeast100Megs = new DiskFree('100MB', '/tmp'); $homeHasAtLeast1TB = new DiskFree('1TiB', '/home'); $dataHasAtLeast900Bytes = new DiskFree(900, __DIR__ . '/data/');","title":"DiskFree"},{"location":"diagnostics/#diskusage","text":"Check if the disk usage is below warning/critical percent thresholds. The first parameter is the warning threshold, which can be supplied as an integer (in percent, e.g. 80 ). The second parameter is the critical threshold, which is also supplied as an integer (in percent, e.g. 90 ). The third parameter is the disk path to check; on *NIX systems it is an ordinary path (e.g. /tmp ), while on Windows systems it is a drive letter (e.g. C: ). &lt;?php use Laminas\\Diagnostics\\Check\\DiskUsage; $diskUsageNix = new DiskUsage(80, 90, '/tmp'); $diskUsageWin = new DiskUsage(80, 90, 'C:');","title":"DiskUsage"},{"location":"diagnostics/#extensionloaded","text":"Check if a PHP extension (or an array of extensions) is currently loaded. &lt;?php use Laminas\\Diagnostics\\Check\\ExtensionLoaded; $checkMbstring = new ExtensionLoaded('mbstring'); $checkCompression = new ExtensionLoaded([ 'rar', 'bzip2', 'zip', ]);","title":"ExtensionLoaded"},{"location":"diagnostics/#httpservice","text":"Attempt connection to a given HTTP host or IP address and try to load a web page. The check also supports checking response codes and page contents. &lt;?php use Laminas\\Diagnostics\\Check\\HttpService; // Try to connect to google.com $checkGoogle = new HttpService('www.google.com'); // Check port 8080 on localhost $checkLocal = new HttpService('127.0.0.1', 8080); // Check that the page exists (response code must equal 200) $checkPage = new HttpService('www.example.com', 80, '/some/page.html', 200); // Check page content $checkPageContent = new HttpService( 'www.example.com', 80, '/some/page.html', 200, '&lt;title&gt;Hello World&lt;/title&gt;' );","title":"HttpService"},{"location":"diagnostics/#guzzlehttpservice","text":"Attempt connection to a given HTTP host or IP address and try to load a web page using Guzzle . The check also supports checking response codes and page contents. The constructor signature of the GuzzleHttpService is as follows: /** * @param string|Psr\\Http\\Message\\RequestInterface|GuzzleHttp\\Message\\RequestInterface $requestOrUrl * The absolute url to check, or a fully-formed request instance. * @param array $headers An array of headers used to create the request * @param array $options An array of guzzle options to use when sending the request * @param int $statusCode The response status code to check * @param null $content The response content to check * @param null|GuzzleHttp\\ClientInterface $guzzle Instance of guzzle to use * @param string $method The method of the request * @param mixed $body The body of the request (used for POST, PUT and DELETE requests) * @throws InvalidArgumentException */ public function __construct( $requestOrUrl, array $headers = [], array $options = [], $statusCode = 200, $content = null, $guzzle = null, $method = 'GET', $body = null ) Examples: &lt;?php use Laminas\\Diagnostics\\Check\\GuzzleHttpService; // Try to connect to google.com $checkGoogle = new GuzzleHttpService('www.google.com'); // Check port 8080 on localhost $checkLocal = new GuzzleHttpService('127.0.0.1:8080'); // Check that the page exists (response code must equal 200) $checkPage = new GuzzleHttpService('www.example.com/some/page.html'); // Check page content $checkPageContent = new GuzzleHttpService( 'www.example.com/some/page.html', [], [], 200, '&lt;title&gt;Hello World&lt;/title&gt;' ); // Check that the post request returns the content $checkPageContent = new GuzzleHttpService( 'www.example.com/user/update', [], [], 200, '{\"status\":\"success\"}', 'POST', ['post_field' =&gt; 'post_value'] ); You can send JSON data by either providing a Content-Type header that includes a JSON content type, or creating a request instance with JSON content: // Send page content $checkPageContent = new GuzzleHttpService( 'api.example.com/ping', ['Content-Type' =&gt; 'application/json'], [], 200, null, null, 'POST', ['ping' =&gt; microtime()] ); // Assuming Guzzle 6: use GuzzleHttp\\Psr7\\Request; $request = new Request( 'POST', 'http://api.example.com/ping', ['Content-Type' =&gt; 'application/json'], json_encode(['ping' =&gt; microtime()]) ); $checkPageContent = new GuzzleHttpService($request);","title":"GuzzleHttpService"},{"location":"diagnostics/#memcache","text":"Attempt to connect to given Memcache server. &lt;?php use Laminas\\Diagnostics\\Check\\Memcache; $checkLocal = new Memcache('127.0.0.1'); // default port $checkBackup = new Memcache('10.0.30.40', 11212); $checkSocket = new Memcache('unix:///run/memcached/memcached.sock', 0);","title":"Memcache"},{"location":"diagnostics/#memcached","text":"Attempt to connect to the given Memcached server. &lt;?php use Laminas\\Diagnostics\\Check\\Memcached; $checkLocal = new Memcached('127.0.0.1'); // default port $checkBackup = new Memcached('10.0.30.40', 11212); $checkSocket = new Memcached('/run/memcached/memcached.sock', 0);","title":"Memcached"},{"location":"diagnostics/#mongodb","text":"Check if a connection to a given MongoDb server is possible. &lt;?php use Laminas\\Diagnostics\\Check\\Mongo; $mongoCheck = new Mongo('mongodb://127.0.0.1:27017'); // and with user/password $mongoCheck = new Mongo('mongodb://user:password@127.0.0.1:27017');","title":"MongoDb"},{"location":"diagnostics/#opcachememory","text":"Check OPcache memory usage percent and make sure it's below a given threshold. &lt;?php use Laminas\\Diagnostics\\Check\\OpCacheMemory; // Display a warning with memory usage is above 70% and a failure above 90% $opCacheMemory = new OpCacheMemory(70, 90);","title":"OpCacheMemory"},{"location":"diagnostics/#pdocheck","text":"Check if a connection to a given database server is possible. &lt;?php use Laminas\\Diagnostics\\Check\\PDOCheck; $pdoMySql = new PDOCheck('mysql://localhost/my_database', 'my_username', 'oFPZc!W&amp;zV&gt;,YCrz'); $pdoSqlite = new PDOCheck('sqlite:example.db', '', '');","title":"PDOCheck"},{"location":"diagnostics/#phpversion","text":"Check if the current PHP version matches the given requirement. The test accepts 2 parameters: baseline version and optional comparison operator . &lt;?php use Laminas\\Diagnostics\\Check\\PhpVersion; $require545orNewer = new PhpVersion('5.4.5'); $rejectBetaVersions = new PhpVersion('5.5.0', '&lt;');","title":"PhpVersion"},{"location":"diagnostics/#phpflag","text":"Make sure that the provided PHP flag(s) is enabled or disabled (as defined in php.ini ). You can use this test to alert the user about unsafe or behavior-changing PHP settings. &lt;?php use Laminas\\Diagnostics\\Check\\PhpFlag; // This check will fail if use_only_cookies is not enabled $sessionOnlyUsesCookies = new PhpFlag('session.use_only_cookies', true); // This check will fail if safe_mode has been enabled $noSafeMode = new PhpFlag('safe_mode', false); // The following will fail if any of the flags is enabled $check = new PhpFlag([ 'expose_php', 'ignore_user_abort', 'html_errors', ], false);","title":"PhpFlag"},{"location":"diagnostics/#processrunning","text":"Check if a given unix process is running. This check supports PIDs and process names. &lt;?php use Laminas\\Diagnostics\\Check\\ProcessRunning; $checkApache = new ProcessRunning('httpd'); $checkProcess1000 = new ProcessRunning(1000);","title":"ProcessRunning"},{"location":"diagnostics/#rabbitmq","text":"Validate that a RabbitMQ service is running. &lt;?php use Laminas\\Diagnostics\\Check\\RabbitMQ; $rabbitMQCheck = new RabbitMQ('localhost', 5672, 'guest', 'guest', '/');","title":"RabbitMQ"},{"location":"diagnostics/#redis","text":"Validate that a Redis service is running. &lt;?php use Laminas\\Diagnostics\\Check\\Redis; $redisCheck = new Redis('localhost', 6379, 'secret');","title":"Redis"},{"location":"diagnostics/#securityadvisory","text":"Run a security check of libraries locally installed by Composer against SensioLabs Security Advisory database , and warn about potential security vulnerabilities. &lt;?php use Laminas\\Diagnostics\\Check\\SecurityAdvisory; // Warn about any packages that might have security vulnerabilities // and require updating $security = new SecurityAdvisory(); // Check another composer.lock $security = new SecurityAdvisory('/var/www/project/composer.lock');","title":"SecurityAdvisory"},{"location":"diagnostics/#streamwrapperexists","text":"Check if a given stream wrapper (or an array of wrappers) is available. For example: &lt;?php use Laminas\\Diagnostics\\Check\\StreamWrapperExists; $checkOGGStream = new StreamWrapperExists('ogg'); $checkCompression = new StreamWrapperExists([ 'zlib', 'bzip2', 'zip', ]);","title":"StreamWrapperExists"},{"location":"diagnostics/#doctrinemigration","text":"Make sure all migrations are applied: &lt;?php use Doctrine\\Migrations\\Configuration\\Configuration; use Doctrine\\ORM\\EntityManager; use Laminas\\Diagnostics\\Check\\DoctrineMigration; $em = EntityManager::create(/* config */); $migrationConfig = new Configuration($em); $check = new DoctrineMigration($migrationConfig);","title":"DoctrineMigration"},{"location":"file-validation/","text":"File Validation Checks laminas/laminas-diagnostics ships with the following file validation checks. IniFile Read an INI-file from the given path and try to parse it. &lt;?php use Laminas\\Diagnostics\\Check\\IniFile; $checkIniFile = new IniFile('/my/path/to/file.ini'); $checkIniFile = new IniFile(['file1.ini', 'file2.ini', '...']); JsonFile Read a JSON-file from the given path and try to decode it. &lt;?php use Laminas\\Diagnostics\\Check\\JsonFile; $checkJsonFile = new JsonFile('/my/path/to/file.json'); $checkJsonFile = new JsonFile(['file1.json', 'file2.json', '...']); XmlFile Read an XML-file from the given path, try to parse it, and attempt to validate it agaist its DTD schema if possible. &lt;?php use Laminas\\Diagnostics\\Check\\XmlFile; $checkXmlFile = new XmlFile('/my/path/to/file.xml'); $checkXmlFile = new XmlFile(['file1.xml', 'file2.xml', '...']); YamlFile Read a YAML-file from the given path and try to parse it. &lt;?php use Laminas\\Diagnostics\\Check\\YamlFile; $checkYamlFile = new YamlFile('/my/path/to/file.yml'); $checkYamlFile = new YamlFile(['file1.yml', 'file2.yml', '...']);","title":"File Validation Checks"},{"location":"file-validation/#file-validation-checks","text":"laminas/laminas-diagnostics ships with the following file validation checks.","title":"File Validation Checks"},{"location":"file-validation/#inifile","text":"Read an INI-file from the given path and try to parse it. &lt;?php use Laminas\\Diagnostics\\Check\\IniFile; $checkIniFile = new IniFile('/my/path/to/file.ini'); $checkIniFile = new IniFile(['file1.ini', 'file2.ini', '...']);","title":"IniFile"},{"location":"file-validation/#jsonfile","text":"Read a JSON-file from the given path and try to decode it. &lt;?php use Laminas\\Diagnostics\\Check\\JsonFile; $checkJsonFile = new JsonFile('/my/path/to/file.json'); $checkJsonFile = new JsonFile(['file1.json', 'file2.json', '...']);","title":"JsonFile"},{"location":"file-validation/#xmlfile","text":"Read an XML-file from the given path, try to parse it, and attempt to validate it agaist its DTD schema if possible. &lt;?php use Laminas\\Diagnostics\\Check\\XmlFile; $checkXmlFile = new XmlFile('/my/path/to/file.xml'); $checkXmlFile = new XmlFile(['file1.xml', 'file2.xml', '...']);","title":"XmlFile"},{"location":"file-validation/#yamlfile","text":"Read a YAML-file from the given path and try to parse it. &lt;?php use Laminas\\Diagnostics\\Check\\YamlFile; $checkYamlFile = new YamlFile('/my/path/to/file.yml'); $checkYamlFile = new YamlFile(['file1.yml', 'file2.yml', '...']);","title":"YamlFile"},{"location":"introduction/","text":"Introduction laminas-diagnostics provides diagnostic tests for real-world PHP applications. It currently ships with the following diagnostic checks: ApcFragmentation - check if APC memory fragmentation is below given threshold, ApcMemory - check available APC memory, Callback - call a user-defined diagnostic function, ClassExists - make sure class exists in current environment, CouchDBCheck - check if connection is possible, CpuPerformance - check server CPU performance is above baseline, DirReadable - make sure given path is readable, DirWritable - make sure given path is writable, DiskFree - check there's enough free space on given path, DiskUsage - check if the disk usage is below warning/critical percent thresholds, DoctrineMigration - make sure all migrations are applied. ExtensionLoaded - make sure extension is loaded, GuzzleHttpService - check if given http host is responding using Guzzle, HttpService - check if given http host is responding, Memcache - check if memcache extension is loaded and given server is reachable, Mongo - check if connection to MongoDb is possible, OpCacheMemory - check if the OpCache memory usage is below warning/critical thresholds, PDOCheck - check if connection is possible, PhpVersion - make sure that PHP version matches constraint, PhpFlag - make sure that given PHP flag (feature) is turned on or off. ProcessRunning - check if a process with given name or ID is currently running, RabbitMQ - Validate that a RabbitMQ service is running, Redis - Validate that a Redis service is running, SecurityAdvisory - check installed composer dependencies against SensioLabs SA database, StreamWrapperExists - make sure given stream wrapper is available. It also provides the following file validation checks: IniFile - check if given INI file is available and valid, JsonFile - check if given JSON file is available and valid, XmlFile - check if given XML file is available and valid, YamlFile - check if given YAML file is available and valid","title":"Introduction"},{"location":"introduction/#introduction","text":"laminas-diagnostics provides diagnostic tests for real-world PHP applications. It currently ships with the following diagnostic checks: ApcFragmentation - check if APC memory fragmentation is below given threshold, ApcMemory - check available APC memory, Callback - call a user-defined diagnostic function, ClassExists - make sure class exists in current environment, CouchDBCheck - check if connection is possible, CpuPerformance - check server CPU performance is above baseline, DirReadable - make sure given path is readable, DirWritable - make sure given path is writable, DiskFree - check there's enough free space on given path, DiskUsage - check if the disk usage is below warning/critical percent thresholds, DoctrineMigration - make sure all migrations are applied. ExtensionLoaded - make sure extension is loaded, GuzzleHttpService - check if given http host is responding using Guzzle, HttpService - check if given http host is responding, Memcache - check if memcache extension is loaded and given server is reachable, Mongo - check if connection to MongoDb is possible, OpCacheMemory - check if the OpCache memory usage is below warning/critical thresholds, PDOCheck - check if connection is possible, PhpVersion - make sure that PHP version matches constraint, PhpFlag - make sure that given PHP flag (feature) is turned on or off. ProcessRunning - check if a process with given name or ID is currently running, RabbitMQ - Validate that a RabbitMQ service is running, Redis - Validate that a Redis service is running, SecurityAdvisory - check installed composer dependencies against SensioLabs SA database, StreamWrapperExists - make sure given stream wrapper is available. It also provides the following file validation checks: IniFile - check if given INI file is available and valid, JsonFile - check if given JSON file is available and valid, XmlFile - check if given XML file is available and valid, YamlFile - check if given YAML file is available and valid","title":"Introduction"},{"location":"usage/","text":"Basic Usage Performing diagnostics with Laminas Install the ZFTool module . Enable diagnostic tests in your application config.php . In your console type php public/index.php diag to run diagnostics. Note: this does not work with Laminas MVC version 3; use the plain PHP diagnostics instructions below when using that framework version. Using diagnostics with Symfony Install the LiipMonitorBundle . Enable diagnostic tests in your application configuration . In your console type ./bin/console monitor:health to run diagnostics. Using diagnostics with PSR-7 middleware Install the rstgroup/diagnostics-middleware . Using diagnostics in plain PHP Create an instance of Laminas\\Diagnostics\\Runner . Add tests using Runner::addTest() . Optionally add a reporter to display progress using Runner::addReporter() . Run diagnostics Runner::run() . For example: &lt;?php // run_diagnostics.php use Laminas\\Diagnostics\\Check; use Laminas\\Diagnostics\\Runner\\Runner; use Laminas\\Diagnostics\\Runner\\Reporter\\BasicConsole; include 'vendor/autoload.php'; // Create Runner instance $runner = new Runner(); // Add checks $runner-&gt;addCheck(new Check\\DirWritable('/tmp')); $runner-&gt;addCheck(new Check\\DiskFree(100000000, '/tmp')); // Add console reporter $runner-&gt;addReporter(new BasicConsole(80, true)); // Run all checks $results = $runner-&gt;run(); // Emit an appropriate exit code $status = ($results-&gt;getFailureCount() + $results-&gt;getWarningCount()) &gt; 0 ? 1 : 0; exit($status); You can now run the file in your console (command line): $ php run_diagnostics.php Starting diagnostics: .. OK (2 diagnostic tests) Using a result collection The diagnostics runner will always return a Laminas\\Diagnostics\\Result\\Collection , even when no reporter is attached. This collection contains results for all tests and failure counters. As an example: &lt;?php use Laminas\\Diagnostics\\Check; use Laminas\\Diagnostics\\Result; use Laminas\\Diagnostics\\Runner\\Runner; $runner = new Runner(); $checkSpace = new Check\\DiskFree(100000000, '/tmp'); $checkTemp = new Check\\DirWritable('/tmp'); $runner-&gt;addCheck($checkSpace); $runner-&gt;addCheck($checkTemp); // Run all checks $results = $runner-&gt;run(); echo \"Number of successful tests: \" . $results-&gt;getSuccessCount() . \"\\n\"; echo \"Number of failed tests: \" . $results-&gt;getFailureCount() . \"\\n\"; if ($results[$checkSpace] instanceof Result\\FailureInterface) { echo \"Oooops! We're running out of space on temp.\\n\"; } if ($results[$checkTemp] instanceof Result\\FailureInterface) { echo \"It seems that /tmp is not writable - this is a serious problem!\\n\"; }","title":"Basic Usage"},{"location":"usage/#basic-usage","text":"","title":"Basic Usage"},{"location":"usage/#performing-diagnostics-with-laminas","text":"Install the ZFTool module . Enable diagnostic tests in your application config.php . In your console type php public/index.php diag to run diagnostics. Note: this does not work with Laminas MVC version 3; use the plain PHP diagnostics instructions below when using that framework version.","title":"Performing diagnostics with Laminas"},{"location":"usage/#using-diagnostics-with-symfony","text":"Install the LiipMonitorBundle . Enable diagnostic tests in your application configuration . In your console type ./bin/console monitor:health to run diagnostics.","title":"Using diagnostics with Symfony"},{"location":"usage/#using-diagnostics-with-psr-7-middleware","text":"Install the rstgroup/diagnostics-middleware .","title":"Using diagnostics with PSR-7 middleware"},{"location":"usage/#using-diagnostics-in-plain-php","text":"Create an instance of Laminas\\Diagnostics\\Runner . Add tests using Runner::addTest() . Optionally add a reporter to display progress using Runner::addReporter() . Run diagnostics Runner::run() . For example: &lt;?php // run_diagnostics.php use Laminas\\Diagnostics\\Check; use Laminas\\Diagnostics\\Runner\\Runner; use Laminas\\Diagnostics\\Runner\\Reporter\\BasicConsole; include 'vendor/autoload.php'; // Create Runner instance $runner = new Runner(); // Add checks $runner-&gt;addCheck(new Check\\DirWritable('/tmp')); $runner-&gt;addCheck(new Check\\DiskFree(100000000, '/tmp')); // Add console reporter $runner-&gt;addReporter(new BasicConsole(80, true)); // Run all checks $results = $runner-&gt;run(); // Emit an appropriate exit code $status = ($results-&gt;getFailureCount() + $results-&gt;getWarningCount()) &gt; 0 ? 1 : 0; exit($status); You can now run the file in your console (command line): $ php run_diagnostics.php Starting diagnostics: .. OK (2 diagnostic tests)","title":"Using diagnostics in plain PHP"},{"location":"usage/#using-a-result-collection","text":"The diagnostics runner will always return a Laminas\\Diagnostics\\Result\\Collection , even when no reporter is attached. This collection contains results for all tests and failure counters. As an example: &lt;?php use Laminas\\Diagnostics\\Check; use Laminas\\Diagnostics\\Result; use Laminas\\Diagnostics\\Runner\\Runner; $runner = new Runner(); $checkSpace = new Check\\DiskFree(100000000, '/tmp'); $checkTemp = new Check\\DirWritable('/tmp'); $runner-&gt;addCheck($checkSpace); $runner-&gt;addCheck($checkTemp); // Run all checks $results = $runner-&gt;run(); echo \"Number of successful tests: \" . $results-&gt;getSuccessCount() . \"\\n\"; echo \"Number of failed tests: \" . $results-&gt;getFailureCount() . \"\\n\"; if ($results[$checkSpace] instanceof Result\\FailureInterface) { echo \"Oooops! We're running out of space on temp.\\n\"; } if ($results[$checkTemp] instanceof Result\\FailureInterface) { echo \"It seems that /tmp is not writable - this is a serious problem!\\n\"; }","title":"Using a result collection"}]}